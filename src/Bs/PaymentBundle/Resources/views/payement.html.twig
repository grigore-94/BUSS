{% extends '::base.html.twig' %}
{% block body %}
    <html>
    <head>
        <title>Derwiki's Stripe Payment form + checkout'</title>
        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-k2/8zcNbxVIh5mnQ52A0r3a6jAgMGxFJFE2707UxGCk= sha512-ZV9KawG2Legkwp3nAlxLIVFudTauWuBpC10uEafMHYL0Sarrz5A7G79kXh5+5+woxQ5HM559XX2UZjMJ36Wplg==" crossorigin="anonymous">
    </head>
    <body style="font-family: 'Open Sans', sans-serif;">
    <div class="container ">
        <div class="centered title"><h1>Payement for yours ticket(s)</h1></div>
    </div>
    <hr class="featurette-divider"></hr>
    <div class="container well">
        <div class="row">
            <div class="col-sm-6">
                <div class="tab-content">
                    <div id="stripe" class="tab-pane fade in active">
                        <script src='https://js.stripe.com/v2/' type='text/javascript'></script>
                        <form accept-charset="UTF-8" action="/" class="require-validation" data-cc-on-file="false" data-stripe-publishable-key="pk_bQQaTxnaZlzv4FnnuZ28LFHccVSaj" id="payment-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="✓" /><input name="_method" type="hidden" value="PUT" /><input name="authenticity_token" type="hidden" value="qLZ9cScer7ZxqulsUWazw4x3cSEzv899SP/7ThPCOV8=" /></div>
                            <br>
                            <div class='form-row'>
                                <div class='form-group required'>
                                    <div class='error form-group hide'>
                                        <div class='alert-danger alert'>
                                            Please correct the errors and try again.

                                        </div>
                                    </div>
                                    <label class='control-label'>Name on Card</label>
                                    <input class='form-control' size='4' type='text'>
                                </div>

                            </div>
                            <div class='form-row'>
                                <div class='form-group card required'>
                                    <label class='control-label'>Card Number</label>
                                    <input autocomplete='off' class='form-control card-number' size='20' type='text'>
                                </div>
                            </div>
                            <div class='form-row'>
                                <div class='form-group cvc required'>
                                    <label class='control-label'>CVC</label>
                                    <input autocomplete='off' class='form-control card-cvc' placeholder='ex. 311' size='4' type='text'>
                                </div>
                                <div class='form-group expiration required'>
                                    <label class='control-label'>Expiration</label>
                                    <input class='form-control card-expiry-month' placeholder='MM' size='2' type='text'>
                                </div>
                                <div class='form-group expiration required'>
                                    <label class='control-label'>Year</label>
                                    <input class='form-control card-expiry-year' placeholder='YYYY' size='4' type='text'>
                                </div>
                            </div>

                        </form>

                            <div class='form-row'>
                                <div class='form-group'>
                                    <label class='control-label'></label>
                                    {#<a class="btn btn-default btn-block"  href="{{ path('book_ticket',{'id':itemRoute.id}) }}">Paye</a>#}

                                    <button class='form-control btn btn-primary' onclick="spiner(this)"> Continue →</button>
                                    <br>
                                    <br>
                                    <br>
                                    <div id="spiner">

                                    </div>


                    </div>
                </div>

            </div>

            <div id="paypal" class="tab-pane fade">
                <form action="?" id="paypalForm" method="POST">
                    <div class="paypalResult"><!-- content will load here --></div>
                    <br>
                    <input type="hidden" id="action" value="paypal"></input>
                    <input type="hidden" id="token" value="token-supersecuretoken123123123"></input>
                    <a href="#paypal"><img src="https://www.paypalobjects.com/webstatic/en_US/i/buttons/checkout-logo-large.png" alt="paypal" width="100%"></a>
                    <br><br><br>
                    <button class='form-control btn btn-primary submit-button' type='submit'> Continue →</button>
            </div>
        </div>



    </div>

    <div class="col-sm-6">
        <label class='control-label'></label><!-- spacing -->

        <div class="alert alert-info">Please choose your method of payment and hit continue. You will then be sent down to pay using your selected payment option.</div>
    <br>
    <div class="btn-group-vertical btn-block">
        <a class="btn btn-default" style="text-align: left;" data-toggle="tab" href="#stripe">Stripe/Credit Card</a>
        <a class="btn btn-default" style="text-align: left;" data-toggle="tab" href="#paypal">PayPal</a>
    </div>

    <br><br><br>

    <div class="jumbotron jumbotron-flat">
        <div class="center"><h2><i>Payment amount:</i></h2></div>
        <div class="paymentAmt">{{ booking.price|number_format(2, '.', ',') }} MDL</div>



    </div>



    <br><br><br>
    </div>



    </div>



    </div>
    </div>


    </form>

    </body>
    </html>
    <script>
        function spiner(this1) {
$('#spiner').append('<i class="fa fa-spinner fa-spin fa-5x"></i> Processing...')

            var timer = setTimeout(function() {
                window.location='{{ path('succes_payement') }}'
            }, 3000);

        }
    </script>
<style>
    @import url(https://fonts.googleapis.com/css?family=Open+Sans:300);

    .body {
    // custom fonts, etcetera can go here
    }

    .jumbotron-flat {
        background-color: #4DB8FF;
        height: 100%;
        border: 1px solid #4DB8FF;
        background: white;
        width: 100%;
        text-align: center;
        overflow: auto;
    }

    .paymentAmt {
        font-size: 80px;
    }

    .centered {
        text-align: center;
    }

    .title {
        padding-top: 15px;
    }
</style>
{% endblock %}
